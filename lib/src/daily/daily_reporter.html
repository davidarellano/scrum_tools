<div class="daily-reporter" (keyup)="keyUp($event)" *ngIf="reportDate != null">
    <div class="entry-form">
        <daily-form
                [model]="onEditing"
                [teamMemberCode]="currentTeamMemberCode"
                [workItemCode]="preferredWorkItemCode"
                (onEntryEdited)="entryEdited($event)"
                (workItemCodeChange)="workItemCode=$event"
                (onStopwatchRequest)="stopwatchRequest($event)">
        </daily-form>
    </div>
    <div class="main">
        <div class="header">
            <div class="work-item" [class.not-valid]="!validWorkItem">{{workItemCode}}&nbsp;{{currentWorkItem?.name}}</div>
        </div>
        <div class="body">
            <div *ngIf="!hasEntries" class="no-entry">
                <div>No entry.</div>
            </div>
            <div *ngIf="hasEntries" class="entries" (keyup)="listKeyUp($event)" tabindex="1">
                <div class="daily-entry-row" [class.selected]="isSelected(entry)" [class.on-edit]="isOnEdit(entry)"
                     [class.even]="evenEntry" [class.odd]="oddEntry"
                     *ngFor="let entry of entries; let oddEntry=odd; let evenEntry=even;"
                     (click)="entryClick(entry, $event)" (dblclick)="entryDblClick(entry, $event)">
                    <div class="entry-data">
                        <daily-entry [entry]="entry" (onWorkItemClicked)="entryWorkItemClicked($event)"
                                     [statusBehind]="statusBehind(entry)"
                                     (onStatusClicked)="entryStatusClicked($event)"></daily-entry>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            {{ reportDate | date:"dd-MMM-yyyy" }}
            <button type="button" (click)="save()">Save</button>
        </div>
    </div>
</div>